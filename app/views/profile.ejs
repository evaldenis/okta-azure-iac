<!DOCTYPE html>
<html>
<head>
  <title>User Profile - Okta OIDC Sample</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .container {
      background: white;
      padding: 40px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 {
      color: #28a745;
      text-align: center;
    }
    .profile-info {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 4px;
      margin: 20px 0;
    }
    .profile-item {
      margin: 10px 0;
      padding: 10px;
      border-bottom: 1px solid #dee2e6;
    }
    .profile-item:last-child {
      border-bottom: none;
    }
    .label {
      font-weight: bold;
      color: #495057;
      display: inline-block;
      width: 150px;
    }
    .value {
      color: #212529;
    }
    .logout-btn {
      display: inline-block;
      padding: 10px 20px;
      background-color: #dc3545;
      color: white;
      text-decoration: none;
      border-radius: 4px;
      margin-top: 20px;
    }
    .logout-btn:hover {
      background-color: #c82333;
    }
    .success {
      text-align: center;
      color: #28a745;
      font-size: 48px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="success">âœ…</div>
    <h1>Successfully Authenticated!</h1>

    <div class="profile-info">
      <h2>User Profile Details (from Okta)</h2>

      <div class="profile-item">
        <span class="label">Name:</span>
        <span class="value"><%= user.name || 'N/A' %></span>
      </div>

      <div class="profile-item">
        <span class="label">Email:</span>
        <span class="value"><%= user.email || 'N/A' %></span>
      </div>

      <div class="profile-item">
        <span class="label">Preferred Username:</span>
        <span class="value"><%= user.preferred_username || 'N/A' %></span>
      </div>

      <div class="profile-item">
        <span class="label">Subject (sub):</span>
        <span class="value"><%= user.sub || 'N/A' %></span>
      </div>

      <div class="profile-item">
        <span class="label">Email Verified:</span>
        <span class="value"><%= user.email_verified ? 'Yes' : 'No' %></span>
      </div>

      <div class="profile-item">
        <span class="label">Updated At:</span>
        <span class="value"><%= user.updated_at ? new Date(user.updated_at * 1000).toLocaleString() : 'N/A' %></span>
      </div>
    </div>

    <div style="text-align: center;">
      <a href="/logout" class="logout-btn">Logout</a>
    </div>
  </div>
</body>
</html>
